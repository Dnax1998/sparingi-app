<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Profil - ZgranyTrener.pl</title>
  <link rel="stylesheet" href="../style.css">
  <link rel="stylesheet" href="../style-profil.css">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
</head>

<body>

  <header>
    <div class="logo">
      <img src="img/logo.png" alt="Logo" height="54">
      <span>ZgranyTrener.pl</span>
    </div>
  </header>

  <main class="profil-container">
  <a href="dashboard.html" class="back-btn">‚Üê Powr√≥t</a>
  <img src="profil/avatar.png" alt="Avatar" class="avatar">

  <h1 id="user-name">
    <span id="name-display">Adam Nowak</span>
    <span id="edit-name" class="edit-icon" title="Edytuj imiƒô i nazwisko">‚úèÔ∏è</span>
  </h1>
  <p class="role">Trener</p>

  <section class="stats">
  <div class="info-box">
    <h3>Klub</h3>
    <p id="club-display">AP M≈Çodziaki</p>
    <span id="edit-club" class="edit-icon" title="Edytuj klub">‚úèÔ∏è</span>
  </div>
  <div class="info-box">
    <h3>Kategorie wiekowe</h3>
    <p id="categories-display">U9, U11, U12</p>
    <span id="edit-categories" class="edit-icon" title="Edytuj kategorie wiekowe">‚úèÔ∏è</span>
  </div>
</section>

  <section class="stats">
    <div class="info-box">
      <h2>16</h2>
      <p>Rozegrane sparingi</p>
    </div>
    <div class="info-box">
      <h2>4</h2>
      <p>Zaplanowane sparingi</p>
    </div>
  </section>

  <section class="recent-matches">
    <h3>Ostatnie sparingi</h3>
    <table>
      <thead>
        <tr>
          <th>Data</th>
          <th>Kategoria</th>
          <th>Mecz</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>13.04.2024</td>
          <td>U11</td>
          <td>AP M≈Çodziaki vs UKS Wilan√≥w</td>
        </tr>
        <tr>
          <td>06.04.2024</td>
          <td>U9</td>
          <td>FC Talent vs AP M≈Çodziaki</td>
        </tr>
        <tr>
          <td>24.03.2024</td>
          <td>U12</td>
          <td>AP M≈Çodziaki vs MKS Delta</td>
        </tr>
      </tbody>
    </table>
  </section>
</main>


  <script>
  // --- Edycja imienia i nazwiska ---
  document.addEventListener("DOMContentLoaded", () => {
    const nameDisplay = document.getElementById("name-display");
    const editNameBtn = document.getElementById("edit-name");

    const savedName = localStorage.getItem("userName");
    if (savedName) nameDisplay.textContent = savedName;

    editNameBtn.addEventListener("click", () => {
      const currentName = nameDisplay.textContent;
      const input = document.createElement("input");
      input.type = "text";
      input.value = currentName;
      input.classList.add("edit-input");

      nameDisplay.replaceWith(input);
      input.focus();

      const saveChange = () => {
        const newName = input.value.trim() || "Adam Nowak";
        localStorage.setItem("userName", newName);

        const span = document.createElement("span");
        span.id = "name-display";
        span.textContent = newName;
        input.replaceWith(span);
      };

      input.addEventListener("blur", saveChange);
      input.addEventListener("keydown", (e) => {
        if (e.key === "Enter") saveChange();
      });
    });
  });
  </script>
<script>
  function enableEdit(fieldId, storageKey) {
    const displayEl = document.getElementById(fieldId + "-display");
    const editIcon = document.getElementById("edit-" + fieldId);

    const savedValue = localStorage.getItem(storageKey);
    if (savedValue) displayEl.textContent = savedValue;

    editIcon.addEventListener("click", () => {
      // üìå Je≈õli to "categories", otwieramy listƒô wyboru
      if (fieldId === "categories") {
        const options = [
          "U6","U7","U8","U9","U10","U11","U12",
          "U13","U14","U15","U16","U17","U18","U19"
        ];

        // Pobierz zapisane warto≈õci (je≈õli sƒÖ)
        const currentValues = savedValue ? savedValue.split(", ") : [];

        // Tworzymy okienko HTML
const overlay = document.createElement("div");
overlay.style.position = "fixed";
overlay.style.top = "0";
overlay.style.left = "0";
overlay.style.width = "100%";
overlay.style.height = "100%";
overlay.style.background = "rgba(0, 0, 0, 0.7)";
overlay.style.display = "flex";
overlay.style.alignItems = "center";
overlay.style.justifyContent = "center";
overlay.style.zIndex = "1000";

const box = document.createElement("div");
box.style.background = "rgba(0, 50, 0, 0.95)";
box.style.padding = "25px 35px";
box.style.borderRadius = "16px";
box.style.boxShadow = "0 4px 20px rgba(0,0,0,0.6)";
box.style.textAlign = "left";
box.style.color = "#fff";
box.style.fontFamily = "'Montserrat', sans-serif";
box.style.fontSize = "16px";
box.innerHTML = "<h3 style='color:#fff; text-align:center; margin-bottom:15px;'>Wybierz kategorie wiekowe:</h3>";

// Lista checkbox√≥w
options.forEach(opt => {
  const label = document.createElement("label");
  label.style.display = "block";
  label.style.marginBottom = "6px";
  const checkbox = document.createElement("input");
  checkbox.type = "checkbox";
  checkbox.value = opt;
  checkbox.style.marginRight = "8px";
  checkbox.style.accentColor = "#e63946"; // czerwone zaznaczenie
  if (currentValues.includes(opt)) checkbox.checked = true;
  label.appendChild(checkbox);
  label.append(opt);
  box.appendChild(label);
});

// Kontener na przyciski
const buttonContainer = document.createElement("div");
buttonContainer.style.display = "flex";
buttonContainer.style.justifyContent = "space-between";
buttonContainer.style.marginTop = "20px";

// Przycisk ZAPISZ
const saveBtn = document.createElement("button");
saveBtn.textContent = "Zapisz";
saveBtn.style.padding = "8px 18px";
saveBtn.style.border = "none";
saveBtn.style.borderRadius = "8px";
saveBtn.style.background = "#e63946";
saveBtn.style.color = "#fff";
saveBtn.style.cursor = "pointer";
saveBtn.style.flex = "1";
saveBtn.style.marginRight = "10px";

// Przycisk ANULUJ
const cancelBtn = document.createElement("button");
cancelBtn.textContent = "Anuluj";
cancelBtn.style.padding = "8px 18px";
cancelBtn.style.border = "none";
cancelBtn.style.borderRadius = "8px";
cancelBtn.style.background = "#444";
cancelBtn.style.color = "#fff";
cancelBtn.style.cursor = "pointer";
cancelBtn.style.flex = "1";

// Akcje przycisk√≥w
saveBtn.onclick = () => {
  const selected = [...box.querySelectorAll("input:checked")].map(cb => cb.value);
  localStorage.setItem("userCategories", JSON.stringify(selected));
  document.getElementById("categories-display").textContent = selected.join(", ");
  document.body.removeChild(overlay);
};

cancelBtn.onclick = () => {
  document.body.removeChild(overlay);
};

buttonContainer.appendChild(saveBtn);
buttonContainer.appendChild(cancelBtn);
box.appendChild(buttonContainer);
overlay.appendChild(box);
document.body.appendChild(overlay);

</script>

</script>

  <!-- üîí Zabezpieczenie strony przed wej≈õciem bez logowania -->
  <script src="auth-check.js"></script>
  <script>
  const nameDisplay = document.getElementById("name-display");
  const editIcon = document.getElementById("edit-name");

  // Wczytaj zapisane imiƒô z localStorage
  const savedName = localStorage.getItem("trainerName");
  if (savedName) {
    nameDisplay.textContent = savedName;
  }

  // Po klikniƒôciu w d≈Çugopis
  editIcon.addEventListener("click", () => {
    const currentName = nameDisplay.textContent;
    const input = document.createElement("input");
    input.type = "text";
    input.value = currentName;
    input.classList.add("edit-input");

    // ZastƒÖp tekst polem input
    nameDisplay.replaceWith(input);
    input.focus();

    // Po wci≈õniƒôciu Enter zapisuje
    input.addEventListener("keydown", (e) => {
      if (e.key === "Enter") {
        const newName = input.value.trim() || currentName;
        localStorage.setItem("trainerName", newName);

        nameDisplay.textContent = newName;
        input.replaceWith(nameDisplay);
      }
    });

    // Po klikniƒôciu poza pole ‚Äî anuluj
    input.addEventListener("blur", () => {
      input.replaceWith(nameDisplay);
    });
  });


</body>
</html>
