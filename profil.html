<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Profil - ZgranyTrener.pl</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="style-profil.css">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body>

  <header>
    <div class="logo">
      <img src="img/logo.png" alt="Logo" height="54">
      <span>ZgranyTrener.pl</span>
    </div>
  </header>

  <main class="profile-container">
    <a href="dashboard.html" class="back-btn">‚Üê Powr√≥t</a>

    <img src="img/avatar_m.png" alt="Avatar" class="avatar">

    <h1 id="user-name">
      <span id="name-display">Adam Nowak</span>
      <span id="edit-name" class="edit-icon" title="Edytuj imiƒô i nazwisko">‚úèÔ∏è</span>
    </h1>
    <p>Trener</p>

    <section class="stats">
      <div class="info-box">
        <h3>Klub</h3>
        <p>AP M≈Çodziaki</p>
      </div>
      <div class="info-box">
        <h3>Kategorie wiekowe</h3>
        <p>U9, U11, U12</p>
      </div>
    </section>

    <section class="matches">
      <div class="match-box">
        <h3>16</h3>
        <p>Rozegrane sparingi</p>
      </div>
      <div class="match-box">
        <h3>4</h3>
        <p>Zaplanowane sparingi</p>
      </div>
    </section>

    <section class="recent-matches">
      <h3>Ostatnie sparingi</h3>
      <table>
        <thead>
          <tr>
            <th>Data</th>
            <th>Kategoria</th>
            <th>Mecz</th>
          </tr>
        </thead>
        <tbody id="matches-list">
        </tbody>
      </table>
    </section>
  </main>

  <script>
  // --- Edycja imienia i nazwiska ---
  document.addEventListener("DOMContentLoaded", () => {
    const nameDisplay = document.getElementById("name-display");
    const editNameBtn = document.getElementById("edit-name");

    const savedName = localStorage.getItem("userName");
    if (savedName) nameDisplay.textContent = savedName;

    editNameBtn.addEventListener("click", () => {
      const currentName = nameDisplay.textContent;
      const input = document.createElement("input");
      input.type = "text";
      input.value = currentName;
      input.classList.add("edit-input");

      nameDisplay.replaceWith(input);
      input.focus();

      const saveChange = () => {
        const newName = input.value.trim() || "Adam Nowak";
        localStorage.setItem("userName", newName);

        const span = document.createElement("span");
        span.id = "name-display";
        span.textContent = newName;
        input.replaceWith(span);
      };

      input.addEventListener("blur", saveChange);
      input.addEventListener("keydown", (e) => {
        if (e.key === "Enter") saveChange();
      });
    });
  });
  </script>

  <!-- üîí Zabezpieczenie strony przed wej≈õciem bez logowania -->
  <script src="auth-check.js"></script>
</body>
</html>
