<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Profil - ZgranyTrener.pl</title>
  <link rel="stylesheet" href="../style.css">
  <link rel="stylesheet" href="../style-profil.css">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
</head>

<body>

  <header>
    <div class="logo">
      <img src="img/logo.png" alt="Logo" height="54">
      <span>ZgranyTrener.pl</span>
    </div>
  </header>

  <main class="profil-container">
  <a href="dashboard.html" class="back-btn">‚Üê Powr√≥t</a>
  <img src="profil/avatar.png" alt="Avatar" class="avatar">

  <h1 id="user-name">
    <span id="name-display">Adam Nowak</span>
    <span id="edit-name" class="edit-icon" title="Edytuj imiƒô i nazwisko">‚úèÔ∏è</span>
  </h1>
  <p class="role">Trener</p>

  <section class="stats">
    <div class="info-box">
      <h3>Klub</h3>
      <p>AP M≈Çodziaki</p>
    </div>
    <div class="info-box">
      <h3>Kategorie wiekowe</h3>
      <p>U9, U11, U12</p>
    </div>
  </section>

  <section class="stats">
    <div class="info-box">
      <h2>16</h2>
      <p>Rozegrane sparingi</p>
    </div>
    <div class="info-box">
      <h2>4</h2>
      <p>Zaplanowane sparingi</p>
    </div>
  </section>

  <section class="recent-matches">
    <h3>Ostatnie sparingi</h3>
    <table>
      <thead>
        <tr>
          <th>Data</th>
          <th>Kategoria</th>
          <th>Mecz</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>13.04.2024</td>
          <td>U11</td>
          <td>AP M≈Çodziaki vs UKS Wilan√≥w</td>
        </tr>
        <tr>
          <td>06.04.2024</td>
          <td>U9</td>
          <td>FC Talent vs AP M≈Çodziaki</td>
        </tr>
        <tr>
          <td>24.03.2024</td>
          <td>U12</td>
          <td>AP M≈Çodziaki vs MKS Delta</td>
        </tr>
      </tbody>
    </table>
  </section>
</main>


  <script>
  // --- Edycja imienia i nazwiska ---
  document.addEventListener("DOMContentLoaded", () => {
    const nameDisplay = document.getElementById("name-display");
    const editNameBtn = document.getElementById("edit-name");

    const savedName = localStorage.getItem("userName");
    if (savedName) nameDisplay.textContent = savedName;

    editNameBtn.addEventListener("click", () => {
      const currentName = nameDisplay.textContent;
      const input = document.createElement("input");
      input.type = "text";
      input.value = currentName;
      input.classList.add("edit-input");

      nameDisplay.replaceWith(input);
      input.focus();

      const saveChange = () => {
        const newName = input.value.trim() || "Adam Nowak";
        localStorage.setItem("userName", newName);

        const span = document.createElement("span");
        span.id = "name-display";
        span.textContent = newName;
        input.replaceWith(span);
      };

      input.addEventListener("blur", saveChange);
      input.addEventListener("keydown", (e) => {
        if (e.key === "Enter") saveChange();
      });
    });
  });
  </script>

  <!-- üîí Zabezpieczenie strony przed wej≈õciem bez logowania -->
  <script src="auth-check.js"></script>
  <script>
  const nameDisplay = document.getElementById("name-display");
  const editIcon = document.getElementById("edit-name");

  // Wczytaj zapisane imiƒô z localStorage
  const savedName = localStorage.getItem("trainerName");
  if (savedName) {
    nameDisplay.textContent = savedName;
  }

  // Po klikniƒôciu w d≈Çugopis
  editIcon.addEventListener("click", () => {
    const currentName = nameDisplay.textContent;
    const input = document.createElement("input");
    input.type = "text";
    input.value = currentName;
    input.classList.add("edit-input");

    // ZastƒÖp tekst polem input
    nameDisplay.replaceWith(input);
    input.focus();

    // Po wci≈õniƒôciu Enter zapisuje
    input.addEventListener("keydown", (e) => {
      if (e.key === "Enter") {
        const newName = input.value.trim() || currentName;
        localStorage.setItem("trainerName", newName);

        nameDisplay.textContent = newName;
        input.replaceWith(nameDisplay);
      }
    });

    // Po klikniƒôciu poza pole ‚Äî anuluj
    input.addEventListener("blur", () => {
      input.replaceWith(nameDisplay);
    });
  });
</script>

</body>
</html>
